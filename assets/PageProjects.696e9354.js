import{d as L,t as B,r as y,o as C,a as g,c as _,b as m,n as k,e as w,_ as M,u as c,f as O,w as P,F as E,g as I,h as j,i as R,j as T}from"./index.5372e1b1.js";const S={class:"image-carousel-wrapper"},U={class:"image-carousel"},A={class:"image-carousel-box",ref:"imageBoxRef"},N=["src"],V=L({__name:"ImageCarousel",props:{images:Array},setup(b){const $=b,{images:v}=B($),h=y(null);C(()=>{v.value.forEach((r,e)=>{const a=document.createElement("div");e===0&&a.classList.add("active"),setTimeout(()=>{h.value.appendChild(a)})})});const t=y(0),s=r=>{const e=r==="prev"?-1:1;t.value+e<0||t.value+e>=v.value.length||(t.value=t.value+e,[...h.value.children].forEach(a=>a.classList.remove("active")),[...h.value.children][t.value].classList.add("active"))};return(r,e)=>(g(),_("div",S,[m("div",U,[m("button",{class:k(`image-carousel-btn ${t.value===0?"image-carousel-btn-disabled":""} image-carousel-btn-prev`),onClick:e[0]||(e[0]=a=>s("prev"))},[w(M,{name:"arrow-left"})],2),m("div",A,[m("img",{src:c(v)[t.value]},null,8,N)],512),m("button",{class:k(`image-carousel-btn ${t.value===c(v).length-1?"image-carousel-btn-disabled":""} image-carousel-btn-next`),onClick:e[1]||(e[1]=a=>s("next"))},[w(M,{name:"arrow-right"})],2)]),m("div",{class:"image-carousel-progress",ref_key:"imageCarouselProgress",ref:h},null,512)]))}});const D={class:"project-item markdown-body"},F=["innerHTML"],G={class:"project-item-info"},z={class:"project-item-badge-list"},q=["src","alt"],J=["href"],K=["src"],Q={key:0,class:"project-item-writeup"},W={key:0,class:"project-item-writeup-btn-list"},X=m("button",null,"Summary",-1),Y=[X],Z=m("button",null,"Description",-1),ee=[Z],te=["innerHTML"],se=["innerHTML"],ne={key:1,class:"project-item-image-carousel-wrapper"},oe=L({__name:"ProjectItem",props:{title:String,tech:Object,repo:String,summary:String,desc:String,links:Array},setup(b){const $=b,{title:v,tech:h,repo:t,desc:s,links:r}=B($),e=O(),a=y(Object.fromEntries(Object.entries(h.value).map(([u,o])=>[u,o])));function i(u){function o(p,f){p=encodeURI(p).replaceAll(/\+/g,"%2B").replaceAll(/-/g,"--"),f=encodeURI(f).replaceAll(/\+/g,"%2B");let x=`https://img.shields.io/badge/-${p}-${u===0?"182C61":"24292f"}?logo=${f}`;return u===0?x:x+"&logoColor=f6f8fa"}a.value=Object.fromEntries(Object.entries(h.value).map(([p,f])=>[p,o(p,f)]))}const d=y("");function l(u){if(!(t!=null&&t.value))return;const o=t.value.split("/"),p=o[o.length-1].replaceAll(/-/g,"--"),f=u===0?"30363d":"6e7781";d.value=`https://img.shields.io/badge/GitHub-${p}-${f}?&logo=GitHub`}C(()=>{i(e.getColorMode),l(e.getColorMode),P(()=>e.colorMode,u=>{i(u),l(u)})});const n=y(!1);return(u,o)=>(g(),_("div",D,[m("h2",{innerHTML:c(v)},null,8,F),m("div",G,[m("div",z,[(g(!0),_(E,null,I(Object.entries(a.value),([p,f],H)=>(g(),_("img",{key:`tech-${H}`,src:f,alt:p},null,8,q))),128))]),c(t)?(g(),_("a",{key:0,class:"project-item-repo",href:c(t),target:"_blank"},[m("img",{src:d.value,alt:"GitHub Repository"},null,8,K)],8,J)):j("",!0)]),b.summary&&b.summary.length>0||c(s)&&c(s).length>0?(g(),_("div",Q,[c(s)&&c(s).length>0?(g(),_("ul",W,[m("li",{class:k(`project-item-writeup-btn ${n.value?"":"project-item-writeup-btn-inactive"}`),onClick:o[0]||(o[0]=p=>n.value=!1)},Y,2),m("li",{class:k(`project-item-writeup-btn ${n.value?"project-item-writeup-btn-inactive":""}`),onClick:o[1]||(o[1]=p=>n.value=!0)},ee,2)])):j("",!0),!n.value&&b.summary.length>0?(g(),_("div",{key:1,class:"project-item-summary",innerHTML:c(R)(b.summary)},null,8,te)):j("",!0),c(s)&&c(s).length>0&&n.value?(g(),_("div",{key:2,class:"project-item-desc",innerHTML:c(R)(c(s))},null,8,se)):j("",!0)])):j("",!0),c(r).length>0?(g(),_("div",ne,[w(V,{images:c(r)},null,8,["images"])])):j("",!0)]))}});const re={id:"projects"},le=L({__name:"PageProjects",setup(b){const $=y(T()),v=y(null);return C(()=>{function h(s){const{top:r,bottom:e,height:a}=s.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight;let d=0;return r>i||e<0?d=0:r<0&&e>i?d=i:r>=0&&e<=i?d=a:r>0&&r<i&&e>i?d=i-r:r<0&&e>0&&e<i&&(d=e),d/i*100}function t(){[...v.value.children].forEach(l=>l.style.opacity="0");const s=[...v.value.children].map(l=>[l,h(l)]).filter(([l,n])=>n>0);if(s.length===1){s[0][0].style.opacity="1";return}if(s.length===0)return;const r=s.reduce(([l,n],[u,o])=>[null,n+o])[1],e=s.map(([l,n])=>[l,n*(100/r)]),a=e.reduce(([l,n],[u,o])=>[null,n>o?n:o])[1],i=e.reduce(([l,n],[u,o])=>[null,n<o?n:o])[1],d=0+(1-(a-i)/100)*1;e.forEach(([l,n])=>{const u=d+(n-i)/(a-i)*(1-d);l.style.opacity=u.toString()})}requestAnimationFrame(()=>t()),window.addEventListener("scroll",()=>t()),new ResizeObserver(()=>t()).observe(v.value)}),(h,t)=>(g(),_("article",re,[m("ul",{id:"project-list",ref_key:"projectsListElem",ref:v},[(g(!0),_(E,null,I($.value,({title:s,tech:r,repo:e,summary:a,desc:i,links:d},l)=>(g(),_("li",{key:`project-${l}`},[w(oe,{title:s,tech:r,repo:e,summary:a,desc:i,links:d},null,8,["title","tech","repo","summary","desc","links"])]))),128))],512)]))}});export{le as default};
